{"version":3,"sources":["src/classes/utils/Emitter.js","src/classes/GameLoop.js","src/classes/Handler.js","src/classes/utils/Math.js","src/classes/renderers/Camera.js","src/classes/Canvas.js","src/classes/entities/index.js","src/classes/entities/Player.js","src/classes/controller/FPS.js","src/classes/renderers/2d/index.js","src/classes/Map.js","src/classes/state/GameState.js","src/classes/Game.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Emitter","events","name","listener","push","params","forEach","listenerToRemove","Error","indexOf","filter","stopped","emitter","GameLoop","lastUpdate","Date","now","update","dt","emit","setTimeout","draw","requestAnimationFrame","on","remove","Handler","game","__game","toRadians","degs","Math","PI","toDegrees","rads","Vector","x","y","z","__x","__y","__z","val","vector","Camera","width","height","fov","angle","__position","__fov","__width","__height","__angle","entity","position","deg","Canvas","parent","__parent","__canvas","document","createElement","style","__ctx","getContext","appendChild","Entity","handler","speed","color","__handler","__speed","__direction","forward","backward","left","right","map","hasWallAt","moveX","moveY","move","cos","sin","direction","Player","FPS","canvas","__lastmouse","__entity","__keys","addEventListener","e","rotateCamera","startMove","stopMove","requestPointerLock","mozRequestPointerLock","__click","movementX","String","fromCharCode","keyCode","TwoD","camera","ctx","configs","__camera","__camerasize","__configs","entities","strokeStyle","fillStyle","fillRect","strokeRect","beginPath","arc","fill","moveTo","lineTo","stroke","TILE_SIZE","Map","__grid","split","row","length","console","log","column","floor","GameState","getGame","__player","__controller","Controller","getCanvas","__renderer","changeConfig","strokeColor","setup","attachEntity","__map","grid","columns","rowIndex","wall","columnIndex","addEntity","followEntity","render","Game","app","__state","start","clearRect","resolution","appElement","getElementById","run","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","i","module"],"mappings":"AcAA,ACAA,IDAIgK,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEhB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACtJ,MAAL;ADCF,ACAC,AHNH,AXAA,AOAA,ADAA,ADAA,AGAA,ALAA,AOAA,GIIE,MDEOwI,SAAP;AACD,ADLD,IAAMJ,UAAU,GAAG;AEKjBmB,AHNF,ADAA,AEEEnI,EEIAmI,AFJAnI,KAAK,EEIE,AFJA,CEICsI,EFLS,EEKjB,GAAeJ,IAAI,CAACI,IAAL,CAAUtD,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgC7G,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDE8J,AFJAjI,EEIAiI,AFJAjI,IEII,CAACsI,CFJC,CCKCjB,CDLC,OEIR,CAAgBkB,GDClB,GAAwB,MCDtB,CAA6BL,OAA7B,EAAsCD,IAAI,CAACO,WAA3C;ADEA,ACDD,AHPD,ADAA,AEAmB,CAAnB;ACSE,ADLF,IAAMxB,ECKA,QDLU,GAAGjG,QAAQ,CAACkG,cAAT,CAAwB,KAAxB,CAAnB;ACMI,ACDJ,AHRA,AFHA,ACGA,AEKA,IEGIwB,AVXiB9H,AHAA/B,AQAfgG,AVAezH,AaQf0B,IAAI,ECIA,CDJG,EHRE,CIYDlB,ACDA,CFHG+I,CHRC,CKWD,CLXjB,CIYU,EAAN,ACDJ,OFHa,CAASM,UAAT,EAAqBD,UAAU,CAAChH,KAAhC,EAAuCgH,UAAU,CAAC/G,MAAlD,CAAb;ACKG,ATZD,AHAA,AFAA,AaQFnB,GCEE,CAEE,ADJA,CAACqI,GAAL,GCIWI,GAAP,EAAY,ETZFvH,CHAAlB,EFAE,EKAd,AHAA,EGAmBmB,AHAD,MGAlB,EAA2BY,MAA3B,EAAmC;ASajC,ACFJ,AVXqC,AOGrC,AVHoB,ASGpB,AXHgB,AGDT,IOCciE,AJAAxD,AFAAvB,IUabyH,CCFCmB,AZZO3J,MWcD,GAAG,ACFlB,AZZO,CWcY,AXdOC,EYYL,EZZd,CWciBsI,CXdQ,EWcL,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,ALXA,AJAA,AFAA,ADDA,MYYIgB,GZZGzJ,IAAI,GYYX,CLXc,APDCC,CYYC,ATVdqC,AFDUhC,CAAZ,EAAeC,ADDI,CCCnB,ADDoBL,ECCFM,ADDH,CGCf,AFAA,EEEEF,AFFmBS,ADDI,CGCzB,EAGER,AHJS,CGCX,AHDA,CCCA,CEUE,CFV0BS,MAA5B,EAAoCC,GAApC,EAAyCC,KAAzC,EAAgD;AUa9C,ACDA,AVZA,AOGJ,AXHA,ACAI,AQAY,AJUZ,AFV8C,AOGlD,AXHI,AGAH,IFAGpC,AOAiB2E,IMab8E,ARTJ/H,CDJKa,AHAAvB,AIUL,ANVK1B,ECAE,GAAG,CaaV,AZbA,AFAA,CKAA,CSaa,CbbjB,ACAkByB,AFAA,CKACkB,CLAf,EEAA,EGAA,wDCII,CAMJ;AQIE,ACDH,AVZC,AJAJ,ACAG,AMAD,AFSE,ANTD,ICAGhC,IKIFgC,CDJKO,EJAI,EaaAoH,ARJT,CLTY,COAFhF,EHAV,CJAgBvF,EIAA6C,CGAlB,EMaqB,ANbD,CMaEuH,ETbpB,KSa2B,CAAC,CAAD,CAAR,AbbP,CaaV,CbbN;AacK,ATbD,AOEJ,AFHI,AFAkB,AFSlB,AFTA,ADCG,QGIHvH,CDJKa,AKDAiE,ANAA3E,ADCOhB,KGQZ,CITA,ELCA,CKDc,APCX,CCDH,ADCsBC,CEANwB,EDDE,CDCf,EAAyB,CEA5B,ADDsBvB,YAAJ,CAAWC,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,CAAlB,oGMQGuF,KARW,CAQL,IARK,EASX/C,GATW,CASP,UAAAgD,GAAG;AIMX,ACDDyD,AVZE,AKOU,AJAV,AFRA,ADCF,EYYAA,EdbmBzK,IKKjBuD,CDJKT,ADDAV,ADCAhB,GYYG,CLLM4F,AJAd,AHPS,CCDT,CWaWzG,CLLM,CLPjB,AKOkBwG,ANRL9E,ADCA,GEAGc,ADDhB,EMQc,CAAU,APPL9B,EYYE,ALLP,CKKQ,ALLZ,CPPa,CEAC,AFAAC,CEAC8B,CFAhB,CAAX,OYYoC,IVZlB,CAAuB,QAAvB,CAAhB,gCCIQ,CAGR;ASMA,AVXA,AKKU,AFTQ,AFSlB,AFPA,ADCH,IMLoB0C,CCEH,EAUX7F,CKKC8K,ATRJzI,CDHKY,ADFAT,IWaI,ALfK,AJSd,CICU,EKKEU,AXbZ,CCEA,CAAchB,CDFCA,ICEf,CUWoB,ALLViF,ANRV,CWaqB4D,CVXC7I,CKMT,ILNb,UUWY,CAA0B,wBAA1B,CAAZ,iBTRQ,CAER;AQQF,ATZE,AKKa,AJDb,AGVF,ALIE,QEKAyB,CQSK,ATZAV,ADFAR,EFDP,AFDA,CcgBA,CJPmB0E,AJDjB,GICoB,ADXVjF,CJMV,AKKqBkF,ANPrB,CCEcjF,EDFEA,CKJlB,ECWmB,ADXAA,ATEhB3C,CKID,EKK8B,ANP9B,CCEuB2C,AKKV,AVTf,ESFA,ATES1C,CECC,COHiBqG,EJMzB,IINF,ATEA,ESFmCC,ATEhB,GSFnB,EAAsD,wCHS5C,MACR;AQSH,ACFG,AVVA,AHHA,AQOa,AFTb,ACFoD,ALKpD,AJFA,IGGSvE,COLK,CAAd,EDDsCwE,CMiBjC,AVVA/C,AGLA6B,AJGApC,CJFD,CAAC,EecIsI,AbbF,CaaG,CNjB0C,CLKpD,AJFUzL,CecG,AVVb,CUUA,AVVc6D,AHHFnC,CECG,CWYC+J,APfhB,COeiB,CfdZ,CKIL,AGLmB,ARCFxL,CecGsL,AVVA5I,AHHpB,GFDK,CAAL,CecyB,AVVzB,CUU0BkF,AfdF,EKII,GLJC7H,Cec7B,EAAkCyL,AVVlC,CUUmC,CXZV3I,CWYzB,AfdwB,CAAY7C,CecG,EXZxB,CAAf,AJFwB,IAAoB,EAApB,kCSHwB,EAAI;AMkBlD,AVVF,AHHD,AQOC6H,AFVqB5F,AFQrB,AFJD,AJFC,AGGF,IOKE4F,EFVqB5F,CAAC,EHMjBwB,AGNmB,COgBlBgH,APhBa,CEUZ,AVRF1K,CUQG+H,GAAR,CKMY,ALNA,CKMCuC,AVVb,ALJA,CKIczG,ALJF5D,EGGmB,COKdyH,CVRjB,CKIA,CAAoB9E,ALJFzC,GecZ,ALNN,CKMwBoL,AfdxB,CAAuBrL,CKIvB,GUU6B,AVVA,CUUCuL,CAAD,CAAL,CAASR,AfdjC,EKIA,EUUM,MAAqCP,MAAM,CAACT,YAAP,EAAzC,EAAgE;ADGtE,ACFQW,AVVJ,AKID,AFX4BzI,ACFyB,ATKpD,AGE+B,MKLJA,CAAC,COiBxByI,AZZM1I,CWcLoI,ATZAxG,AGPyB,ALKC,IHFxB5D,CKIP,GAAa,CUUC,CDElB,ACFmBqL,CDEChB,CdhBhB,CKIkB7G,CSYtB,CCFwB,CDEC,ACFA+H,CAAD,CAAN,CAAV,EVVS,CAAc1H,UAAd,CAAyB,IAAzB,CAAb,iCFFc,CAAiB;AWejC,ACFK,APlBgB,AFSnB,ANLD,AGCgC,KKL/B,GLKiB5B,CWeZ,ARXAkC,AHJ0B,CWezB,KAAKkG,GAAN,ARXL,EQWgBC,CRXCtG,MQWZ,CAAmB,ARXxB,oDHJqB,CAAU,2BWe1B,EAAqG,IAArG,IAA6G,GAApH;AACD,ACFI,AVXD,AGPA,AFSA,AGXA,ANM+B,IQHdgE,IRGO9F,CEGnBqB,AGPA+B,AFSAzC,AGXAE,ANM0B,EFJjC,KQFE,CJSA,AGPA,CHOce,CCEd,AGXerB,CDEC,EFSE,EETEsB,ACFpB,EHWsBhC,ELTT,CIOb,CAA0B,KAAKyB,GCEb,CAAWxB,CAAX,CETF,CAAW,AFSKC,CDFhC,AGPgB,AFSE,EETY,AFSKC,CETnB,AFSE,CAAlB,CETiC,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAAhB,wBLI4B,CAAG;AEIhC,AJPC1B,AOAA,AFSA,AGXA,AEGF,INOA,EJREA,GOAKgD,AFSAT,AGXAC,ELMP,EHJS,GAAG,AKSV,CETA,ACFA,EHWeP,CETC2C,ACFA1C,CREhB,AUCUsB,GLQV,EETA,ACFA,EEGF,EAAqB,GPGRd,MAAb,EAAqB;AUiBvBqH,ACFIY,AdlBA,AOAA,AFSA,AGXA,ALMA,AOJmB,AREY,IYgB/BA,AHlBiB/B,ALNRlE,GO0BN,CAAC6E,CJXN,AFTOxE,AFSAvC,AGXAwD,CRED7F,CGICkC,AJFP,GegBY,CPlBV,EOkBa,ATTb,AGXA,CDEc,EMoBlB,AbpBkB,AOAd,AFSgBH,AGXA2D,CMoBhB,AXdA,EUgBmByD,AbpBFlJ,CSSP,ANLQsC,CJFfnD,CMOH,AGXA,CREqB,CAACc,CDExB,CIE0B,CHJP,AGIQsC,AJFhBjD,ECFT,IDEF,EIEE,AJFiB,EckBrB;AACAqK,ACFG,AHlBD,AFSE,AJAA,AGXA,ALMA,AJFA,GeOqB,EASpB,EDEE,ACXkB,CDWjBH,ACXN,CTAOnH,AGXAwD,ELMAxD,AJFAnD,EUOE,GETGuJ,ANSV,CNPA,CckBJ,AJXgB7B,ANLZ,AJFYzH,CYFd,ANSiB6C,EQWEwH,AFpBF3H,AHFf,ALMeS,CJFf,EUOO,AJAP,AGXoB,CCWD,CETrB,AFSS,ADXP,CLMqB,AJDnB,CYHoBR,AFSAiF,ANLA/E,GUgB1B,CdjBW9C,CICP,CQJF,AFSE,EET8B,EZG5B,CAAYC,IAAZ,EAAkBI,OAAlB,CAA0B,UAAAH,QAAQ,EAAI;AegB3C,AHnBiC,AXA9B,ASUD,AFTC,AFSA,AGXA,ALMD,AOLC,AXIIA,AGFJ,QHEIA,CQHCwD,AFSAY,AGXAR,AECAO,AREAhC,GAAL,EMHA,CRCSrB,AEEEkB,CGQX,ANNY,AGFZ,CKDA,ACFasE,ATKApG,CQHCsF,AGDd,CLUevB,CGXf,CRCA,AUAiBD,EXIL,CCJM,AKUlB,ANNI,IWJJ,MHCA,CAA+B,WAA/B,EAA4C,UAAAyB,CAAC;APA3C,AOA2C,AFU7C,AGXA,AECA,AXIG,AGFH,OHAE,CADF,CMSKpB,AGXAqC,AECA9C,AREAxB,GFFGvB,AEER,CKFiD,CGAjD,CVAW,AEEAoB,CAAX,CQFa,CVACrB,AOAuC,ACDrD,CDCsD8E,CFUtD,CGXiBa,CRCC,AUAApC,CVACtD,AKUA,GLVL,EAAZ,AQDF,GDCiD,AGApC,CHAsD4E,AGAvCwC,CHAqB,CAAJ,KGAhC,GAAyB7C,MAAzB,CAAgCvB,UAAhC,EAAb;AIoBJ2H,AHpBI,AXCE,AOD2C,AFW3ClH,AGXF,AECA,AXID,AGFC,KKHA,COoBE,ATTAA,CSSCiG,EHpBEpG,AHAAwC,AECAuB,AREA7F,EEGP,CJLUtB,AEER,CGQS,CSSb,AdnBc,CKUC,AHRAmB,CAAX,CYiBakJ,AdnBA,AQDb,AECA,CCDA,AXCcvK,EKSK,AGVH,AECA,CCDC,AXCA,CQDjB,ERCoBF,AUAAuE,CCDC5D,CGoBzB,KVda,GJLI,IAAqB,AUAlB,CACd,ECFe,CAAY,AXC3B,EUCK6C,ECFU,CAAjB,MDCgB,EAEd,KAAKA,SAAL,CAAe8D,OAAf,GAAyBxF,KAAzB,GAAiC,CAFnB,EAGd,KAAK0B,SAAL,CAAe8D,OAAf,GAAyBvF,MAAzB,GAAkC,CAAlC,GAAsC,EAHxB,EAId,CAJc,EAKd,EALc,EAMd,EANc,CAAhB;ANMA,AONA,AXCE/B,AMTJ,ADmBI4D,AGXH,AESC,ARND,MGQGA,ELVA5D,CWDGoC,AFSP,ACAOyD,EPLP,ECES,CCKG,EMXV,ANWY,CKFZ,CNHYzD,AJLA,AMTFiB,CKQKvB,CDSC,CVRD5B,AKQI,GMTnB,AXCE,ASQS,ACAS2B,CNHpB,AEdF,EAAqBR,CAArB,EAAwBC,AHYdW,CGZV,EAAiD,EHYjD,EAAiB,EOKC,CACd,CADc,EAEd,CAFc,EAGd,CAHc,EAId,KAAKG,OAJS,EAKd,KAAKC,QALS,EAMd,KAAKF,KANS,EAOd,CAPc,CAAhB;ANFD,AONC,AXCErC,ASQF,AFVAgD,ADR+C,ADoB7Ce,AFPF,AOaA,IHlBAf,EFYEe,ELVA/D,AMVuByB,CKSpBc,ALT0C,AI0B1CmF,CLNC,CFPDrF,CILG,AFYA,CIFD,AFVE0C,EPEA,CAACxE,AGGV,CQJA,ANQmB,CICPwG,CNLC5E,CQJGF,AXCd,CAAa,AUgBf,GDRO,ANLP,AOaoB,CDRDiF,CETnB,EDiBwBS,CVhBtB,AOFF,CAA0B,CPEDrH,ASQzB,ETRE,MOFF,CGkBoB,CHlBiB,AGmBnC,KAAKoD,KHnB8BsB,CAAC,GGmBpC,CAAewC,OAAf,GAAyB7C,MAAzB,CAAgCiD,OJ3BL,CAAkB,CI2B7C,EADkB,CAApB;AChBA,AXCE,ASQH,AFXuC,ADRS,ADqB7C5D,AFPH,AOgBC,MLTEA,ECrB8BhC,CKU3BK,AXCFtC,AUmBE8H,ELTE,ANRT,EQL4C,ADRK,ADqBtC,CMXT,EXCE,CWDW,CJFiC,CIE9C,AJF+C3C,AGsB/C,CVnBc1E,EUmBI,IAAImF,CXjBjBrG,CQLqC,CAAe0F,CPGjC,AOHkB,CPGjB,AOHa,ARKxC,EAAarF,GWiBO,CAChB,KAAK2C,OADW,AXjBpB,EWmBI,AXnB2B,KWmBtBC,QAFW,EAGhB,KAAKwD,QAHW,EAIhB,KAAK5C,KAJW,CAAlB;ACnBA,AXAyB,AOHa,ADRS,ADiB5B,ANHnB,KQNA,AFSA,GCjBuClB,CKWlCc,CZGD,CAAC,GOd0C,EPcrC1D,CYHV,AXA+BgB,GWAf,EZGX,CCHgC,ADGpBf,CYHGsD,AXAkBtC,EAAD,CAAZ,ADGpB,CAAL,EAAwB,MAAM,GYHd,CAAW0B,AZGOpC,KYHlB,AZGc,EYHIqC,MAAlB,EAA0B2G,CZGCtJ,EYH3B,CAAhB,CZG8B,0BAAN;AYFxB,AXDyB,AOFzB0D,AFcD,AKaC,AXrBA,IQNAA,KIGKG,AXDmB,AUyBnB0E,ARxBP,CHGM,CKCN,AJL6C,AQF7C,ATMO,CQNG,CPEgB,AOFf9C,CIGT,AXDE,EDIQ1F,CYHG,EDwBb,CAAgByI,ECxBE/E,AZGb,CAAYzD,CGHX,GHGD,EQNL,ARMuB,CYHV,AJHa,CIGC8D,CPIjB,AMoBV,CF3BW0C,AE2BkB,CXrBDzG,GQN5B,EAAmC,CCArC,ATMyB,CYHV,AZGsBC,CSNf,CGGpB,EZGuB,EAAkBO,EQNNmF,CAAC,IRMb,CAA0BrF,gBAA1B,CAAlB,CAAL,EACE,MAAM,IAAIC,KAAJ,WAAaN,IAAb,6BAAN;AKCF,AOJA,AXDC,AOHmC,ADTW,AEU/C,AE2BEsH,AXpBF,AGJA,MQwBEA,GCxBGlD,AFQP,ANNA,EKLOuC,ATOA5G,CWoBG,CNpBD,AGRiC,ALIjC,CQwBG,GXpBV,CKAYkD,AOJZ,AJJ4C,ARQhCjD,AGJAoC,CKJiCyD,AG2BhB,CF1B7B,CGGiB,ATAjB,CHIA,EUIS,ANNI,CQFQtE,CPIrB,ALAoB,CQRoB,CAAcmE,CAAd,CAAJ,CRQX3F,MAAL,CAAYC,GYJf,CAAY,AZIT,EAAkBQ,EYJrB,CAAjB,GZIoB,CAClB,ISRoB,KAAKmG,CTQzB1G,QSRF,ATQU,GSR+BuG,OAAzC;AJQD,AOHC,AFOA,AFboC,ACErC,ALKC,AOsBEiC,AXpBQ,AGJX,KKLC,CG6BEA,GCvBGc,IFOE,ANNA,EJEOtJ,CYHd,CDuBa,CDhBDwH,ANNA3E,CQDG,ADuBA,ICvBImF,AZGG,CUItB,INNA,AJE2B5H,aYHZ,CAAc,EZGnB,GYHwB+D,SAAnB,CAAf;AACD,AXHC,ASUD,AFbC,ADV+C,AHiBhD,AOmB8B,AXlBnB,KWkBV,EXnBoB,CAApB,CQPKX,ALYP,MFTWtC,EOHT,CAAc2E,CPGd,GAAgB,AESZvD,GAAN,EAAW,EIrBH0B,OCSN,ADV+C,EAChChC,CCUb,ADX6C,EAC7BC,CAD6B,ECWxCuB,ADVctB,CAD0B,EACvBO,KCUtB,ADX6C,CCW/BoD,CDVenD,MADgB,EACR,EADQ,EACJ,CADI,EACD,ECU5C,IAAoC,ADXS,KCWJc,QAAL,CAAcsC,qBADpD;APIErF,AMZH,APkBA,AGGC,QFTEA,CGYJ,EEFA,AHDO0B,GAAL,CFTS,CAACnB,CESCsB,GFTT,AESF,CFTe,CGYJA,GAAb,CEFMN,CLVF,AKUJ,AFEkB,EEFT;ALTL,AOHF,AFaA,AFEA,AOaA,ARhBD,SFTIxB,AOHEgD,AG4BAiF,ENrBP,ACMO5F,AGbP,ALeOA,GOaL,EVzBE,COHF,CAAc2C,EPGArE,CKUd,AFEA,CEFgBa,CAAhB,CFEkBM,GEFGN,AFErB,CEFA,CGbO,GJOG,EGPV,CAA+B,MPGI,CAACd,AOHpC,EAAwC,EPGL,CAAjC,OOHsCuE,CAAC;AHQzC,AJJC,AOJwC,AFc1C,AGbC,ALeD,AOaA,UF5BOa,CCYR,ELLS,AGRsC,ACCpC,GAAG,EJOA9C,AGRqC,CAACuC,ECCjCnC,KJOjB,AGR6C,ACC7C,CDD0D6B,CAAb,CAAJ,CEajCzD,CAAV,EAAaC,CAAb,EAAgB;ALJf,AKKC,AFdyC,ACEzCqE,EFfwBvC,GCaxB,CCEAuC,GAAG,CCYGwB,ADZFlB,CGGN,KFSc,GAAGjF,EDZf,ECYmB,CAACoG,ADZF,EGGd,GFSW,ADZQrB,CCYG1E,CAAC,GAAGuF,GAAG,CAACD,ADZhB,CAAeV,QCYlB,CAAf,EDZkB,IAA8B,EAAhD;AGGI,AXAJ9F,ASUA,AFdD,ACEC,MREAA,GEFF,COYQ4G,CDZDf,CREC,CAAC/F,ASUE,GAAGe,CTVD,CAACd,CQFZ,CCYgB,ADZFV,CREP,ASUU4H,ETVX,CAAN,AEFM,EOYM,CAAW9F,ADZvB,CCYwB,ADZF,GCYKsF,GAAG,CAACD,GDZTpE,MCYV,ADZgB,CCY5B,CDZgC;ARGhC/B,ASUAyG,ADZEtB,ANAF,MFEAnF,ASUAyG,EDZEtB,CLEJ,EESA,AGXO,CAACO,CCYC,APZA,COYCgB,GAAR,CAAY,APZAzF,GMAV,ANAF,GMAkBc,ALER,EESNjB,CLTiB,AKSvB,CLTwBf,CKSf,CGXiB,CAACgD,CREJ,CAArB,GQFE;AGEFxD,AXCD,ASSeoH,AJAd,AGXExB,ALEF,ADFD,QOWewB,ADXZxB,GJKJ,ACMOzD,AGXA,AEyBP,CFzBQiE,CLEC,CMSa,EAANgB,ENTF7E,EKFV,CHWF,AGVIC,CCUQ,AJAIjB,CAAhB,CMVSsH,CRCT,EESqBtH,AGVX,CHUV,AGVWkB,AEwBL,CCxBN,IPIW,GIJP,CAAgBnB,CADlB,EAEEkB,MAAM,CAACC,QAAP,CAAgBlB,CAFlB,EAGEiB,MAAM,CAACT,KAHT,EAIES,MAAM,CAACR,MAJT;AJMF,AKKsBgF,AJCvB,AGNGpB,ALHH,AOsBO,QDdgBoB,ADLpBpB,CNEJ,EOG2B,ADLpB,CAACS,CJAC,AKKeW,KLLV9D,IIAV,ANEEtB,CEFJ,AICIY,ENCN,EAAW,EMDC,CAACC,QAAP,CAAgBnB,CADlB,EAEEkB,MAAM,CAACC,QAAP,CAAgBlB,CAFlB,EAGEiB,MAAM,CAACT,KAHT,EAIES,MAAM,CAACR,MAJT;AJCH,AOLChC,AFSY,ADCX,ANHD,OOEA,ADbA,ELcF,EIfA,ALYO0B,GAAL,GAAWE,GAAX,ECGQc,EQVChC,CRUX,CQVE,CAAY,ARUC,CIfPqE,CAAR,EAAW,IIKT,EAAsB,UAAA1E,EAAE;AAAA,AFUxB,AFdA,ACeAuF,ALAA,AOaA,ARhBD,MMGCA,GAAG,CCDC,ADCAO,CRVN,AOLOrD,AJeAP,AOaAkF,ICxBuB,AFUnBX,GNCT,CIfA,ACeA,CGXgC,AJJlB3B,CIImB/E,AFU7B,ANCW,CMDC4G,ADCA,CEahB,CAAkBgB,CDdd,EEVwB,AFUPZ,CEVmB/G,AXC3B,AQUb,EGX4B,CAAJ,EFUpB,GCcJ,CAA+B,CDdC,AFdhC,CEcA,EAAmC,CNCVqC,AOaW8E,GPbrB,CAAf,EMD0C,ECc1C,GDdmC;AEVX,AXExB1H,ASSA,AFdD,ACeC8F,ALAD,MHVC9F,AQUA8F,CGZA,EHYG,CAACU,CHDN,ELTS,ASSA,GTTG,CSSV,EDCA,CRVA,KKSGhF,CAAL,EAAQC,CAAR,EAAWyC,GAAX,EAAgB;ALRf,ASSA,AJAC,AGCA4B,AEYA,MFZAA,GAAG,CHDC,AGCAW,CHDCvC,AKaAiE,EFZL,CHDQ,AGEN,CHFOhE,CKaT,GFXO6B,AEWM,IAAIe,CLbZ,CAAc,EGEjB,CAAcpE,EHFQN,KKaX,CFXX,CAAuBb,AEWzB,CFZA,EHDmB,AGGjB,CHHiCA,CAAhB,GAAoBA,AGGhCwE,CHHF,EAAqC,KAAK3D,AGG7C,CAAcM,QAAd,CHHwC,AGGjBlB,CHHiCA,AGC1D,CHD0C,CGIxC,EHJ4DA,CAAzD,CAAL,CGIOwE,CHJ2D,WGIhE,GAAoB,CAHtB,EAIE,CAJF,EAKE,qBAAU,GAAV,CALF;AGZA/F,ANYE,AGOF4F,MAAAA,GAAG,ANrBL,CMqBMY,GHPGtC,CGOP,IHPE,CAAW5C,CAAX,IMZOZ,ATFH,ESEN,CAAY,MAAZ,EAAoB;AAAA,ANalB,AGQFkF,AEIA,AR1BA,MMsBAA,GAAG,ALnBL,CKmBMM,CDvBN,AG2BO+B,ELZE9D,AHdA,ESCmB,CDyB1B,CAAW+D,CLZT,AHdUvG,CGcCJ,CMbiB,ANa5B,CMb6Bf,AHqB/B,AEIA,AR1BA,CQ0BgBf,EFJE,ALnBV,CQFkB,EAAN,EDyBpB,CAAwB,CFJxB,EDvBW+C,MAAb,CG2B2B2F,CH3BN,MG2BK,EAAUC,QAAV,EAAuB;ACzB3B,AJDpB,AFeC,AGSDxC,ALpBA,AOuBEuC,AR1BH,MMuBCvC,CGvBA,CD0BEuC,CDdJ,ADWK,CAAC1B,CRpBN,AOJO7B,EJIE,EOuBE,CFHT,AEGUZ,CFHC,EDxBX,AG2BE,CAAY,EH3BExB,ACwBAsD,CRpBRzG,CSSa,GTTvB,COJE,CPIcC,CQoBH,AEGI+I,CFHU5F,GLpBR,AOuBH,EAAO6F,CVvBvB,EAA0B,AQoBb,ALpBWlG,CKoBYd,CAAlC,EAAqC,CLpB9B,CAAP,EOuBc,CFH4BwE,CEGL,OFHA,CAAcrD,QAAd,CAAuBlB,CAA5D;AGtBD,AXGC,ASSA,AFbD,AFeA,AGSCqE,ALpBD,AOuBK,MFHJA,GAAG,ANhBL,CMgBMc,GRpBG3G,ASSA6G,CCcCyB,EFHR,CACE,CEEU,EVvBE,CAAC3H,CSSf,ADYOoF,AEES,ARnBZlE,CFJG,AUuBH,CVvBcvC,CUuBC,ARnBrB,EAAW,CFJF,EAAiBC,AQqBtB,CAAcmD,ORrBT,CAAP,AQqBE,CAAuBnB,CAAvB,GACEL,IAAI,CAACoD,GAAL,CAAS,KAAKyB,QAAL,CAAc5D,KAAvB,IAAgC,KAAK6D,YAFzC,EAIE,KAAKD,QAAL,CAAcrD,QAAd,CAAuBlB,CAAvB,GACEN,IAAI,CAACqD,GAAL,CAAS,KAAKwB,QAAL,CAAc5D,KAAvB,IAAgC,KAAK6D,YALzC;ARnBD,ASSA,ADiBCH,AEHM,ARnBN,MMsBAA,GAAG,ALlBL,CKkBMe,CNtBChF,GAAL,EMsBA,AEHYa,CRnBDZ,GAAX,ECIMZ,AOeY,GAAG,CPfvB,EAAc,COeaqC,iBAAJ,CACb,KAAI,CAACI,SADQ,EAEb6E,WAAW,GAAGzB,aAAID,SAFL,EAGbwB,QAAQ,GAAGvB,aAAID,SAHF,EAIb,CAJa,EAKbC,aAAID,SALS,EAMbC,aAAID,SANS,EAOb,MAPa,CAAf;AFIP,ALlBC,ADJD,WCIMxE,KAAL,GAAa,qBAAUpB,IAAV,CAAb;AACD,AOsBO,WClCR,AJDA,AFcA,CKqBQ,KAAI,CAAC4G,SClCNvH,ANaAA,CKqBC,CClCR,ANaA,AKqBwBkI,EClCb,ANaAvE,GAAX,EAAgB,EKqBR,CHnCoB,AGmCMxB,MAA1B;ACjCN,AJF0B,AFe1B,AKqBK,UHpCQ8C,AFeT,CMbCsD,AXGP,IKUWjF,GMbT,CAAavD,AJFa,MIE1B,CAAoBC,ANahB,CLVQhB,AOLCiG,AFeQ1B,CMbrB,GXGF,EAAoBlE,CKUlB,EEf0B,AFeI,aLVhC,EAAsC;AWFrC,AXGCK,AOLA,AFeE,AKqBC,MV/BHA,GUkBE,EHvBG4E,AC+BP,ANtBA,EFJS,AKUAP,CLVCzD,GKUN,CACEM,ELXJ,CAAe5B,COLf,AFgBQ,CEhBSiC,AFgBR+C,CEhBT,ALSExC,CFJF,CKWI,CLXiBnC,AKWR,CEhBS4F,EC+Bd9C,ANtBV,EGOoBD,AHPR,IMsBZ,CD/BE,CC+BgB,CHfZ,ILXJ,AKW6B,KAAKmB,OAA9B,GAAwCrD,EAD1C,EAEEY,IAAI,CAACqD,GAAL,CAAS,KAAK/B,OAAd,IAAyB,KAAKmB,OAA9B,GAAwCrD,EAF1C,EAGE2D,GAHF;ALTH,AOLC,AFmBC,AGYDxB,AEKC,AR3BD,MMsBAA,CEVA,IHrBKoC,CC+BC,CAACpB,ANtBA,IAAInC,CMsBX,CD/BA,CAAca,CC+BCM,ENtBR,CACL,CKVF,EC+BqB,CAACgB,CD/BC8B,ALUhB7D,GAAL,CMqBa,ENrBFI,EMqBkB,CD/BC,GAAG,ALUhB,CAACP,CMqBpB,ANtBO,EKTP,ALWE,KAAKI,GAAL,GAAWG,MAAM,CAACN,CAFb,EAGL,KAAKI,GAAL,GAAWE,MAAM,CAACL,CAHb,CAAP;AKRD,AC+BC,AEKD,ARvBA,WMkBMyE,QAAL,CAAc1G,IAAd,CAAmBiD,MAAnB;AHZA,AGaD,UHbK,CMjBN,INiBW+B,SAAL,CAAeV,EMjBd,MNiBL,EAA6B;AMhB7B,ANiBE,WMjBGX,ENiBEkB,GMjBP,CAAW0E,ANiBT,CACE7H,IAAI,CAACoD,GMlBT,ANkBI,CMlBiB,ANkBR,CMlBb,EAAwB,CAAxB,CNkBkB9B,CMlBS,KAAKF,CNkB5B,IAAyB,CAAC,CMlB9B,EAAyC,ENkBNqB,GMlBWpB,INkB1C,GAAyCjC,CMlB7C,CNiBE,EAEEY,IAAI,CAACqD,GAAL,CAAS,KAAK/B,OAAd,IAAyB,CAAC,KAAKmB,OAA/B,GAAyCrD,EAF3C,EAGE2D,GAHF;AAKD,WEvBH,AGoCA,ARxBA,gBQwBO3D,EAAP,ARxBSwB,CKZCkD,CAAV,AGoCW,EHpCE,ELYb,EAAiB;ASVf,AJDA,AGoCA,ARxBA,UKZIQ,CICCqD,ADmCApB,ERxBE,GKZG,CAAChC,ALYAnE,CSXX,CAAab,ADmCb,CAAcJ,GCnCd,ATWO,CACL,EQuBF,CAAqBC,EHpCjB,AGoCJ,ARvBOoB,CKbiBsD,CAAC,AGoCA,CHpCCU,ALaxB,GAAW5D,CQuBiBoG,GHpC1B,EGoCJ,ARvBmB,CAAC3G,CADb,EKZgC,ALcrC,GKdF,EAA4C,ALcrCI,GAAL,GAAWG,MAAM,CAACN,CAFb,EAGL,KAAKI,GAAL,GAAWE,MAAM,CAACL,CAHb,CAAP;ASVD,AJDG,AFsBF,AHND,UGMK,GEtBGoD,EFsBEL,MEtBP,CAAcA,EFsBZ,CAAeT,IAAnB,EEtBE,AFsBuB,CEtBCF,OAAxB,GAAkC,IAAlC;AACD,AFsBC,AKaF,WAAKkC,ELbE1B,IAAL,CACEnD,CKYJ,CAAcuH,ELZN,CAACnE,GAAL,CAAS,KAAK9B,AKYlB,CAA2B,KAAKiF,CLZnB,GAAe,IKY5B,iBLZsC,EAAV,CAAxB,IAAyC,CAAC,KAAK9D,OAA/C,GAAyDrD,EAD3D,EAEEY,IAAI,CAACqD,GAAL,CAAS,KAAK/B,OAAL,GAAe,qBAAU,EAAV,CAAxB,IAAyC,CAAC,KAAKmB,OAA/C,GAAyDrD,EAF3D,EAGE2D,GAHF;AAKD,AKSF;AHnCC,SIAF,CJAMuB,CLeN,KKfY,CAACC,OIAA,KJAP,ALeG3D,CKfiBkD,CAAC,CAACU,GLe5B,EAAiB,EKfX,MAAmC,GAAvC,EAA4C;AIC5C,AJAE,AF0BF,AHXA,UGWI,GM1BG,AJAAb,ALeA,EGWEL,EHXElD,CSfCyB,GJAV,CAAcyB,CLeT,CGWH,AHVF,CGUiBR,CM1BnB,GTgBOtC,CGUP,CE1BE,CAAwBoC,AF0BA,AHVxB,GAAWhC,KKhBX,CLgBiB,CAACP,CKhBiB,ALe9B,EAEL,EKjBA,GLiBKI,GAAL,GAAWG,MAAM,CAACN,CAFb,EAGL,KAAKI,GAAL,GAAWE,MAAM,CAACL,CAHb,CAAP;ASdD,AJAE,AF0BC,AHPH,WQgBD,ELTS4C,IAAL,CACEnD,IAAI,CAACoD,GAAL,CAAS,AKQR,KLRa9B,OAAL,GAAe,qBAAU,EAAV,CAAxB,IAAyC,KAAKmB,OAA9C,GAAwDrD,EAD1D,EAEEY,IAAI,CAACqD,GAAL,CAAS,KAAK/B,OAAL,GAAe,qBAAU,EAAV,CAAxB,IAAyC,KAAKmB,OAA9C,GAAwDrD,EAF1D,EAGE2D,GAHF;AAKD,AKKD,WAAK4D,UAAL,CAAgBa,MAAhB;AHnCA,AF+BD,AKKA,UHpCKlD,MAAM,CAACC,YAAP,CAAoBT,CAAC,CAACU,OAAtB,MAAmC,GAAvC,EAA4C;AAC1C,SIDJ,ETmBA,EKlBSb,QAAL,CAAcL,EIDN,GTmBL1C,IKlBH,CAAwBiC,CLkB5B,EAAe,CKlBX,GAA+B,IAA/B;AIAF,AJCC,ALkBD,aSnBO,ATmBA,IAAIzC,CSnBCgB,KTmBL,CACL,CSpBF,IToBOZ,GAAL,GAAWI,MAAM,CAACP,CADb,EAEL,KAAKI,GAAL,GAAWG,MAAM,CAACN,CAFb,EAGL,KAAKI,GAAL,GAAWE,MAAM,CAACL,CAHb,CAAP;ASlBD,ATuBA,SGOD,AKKA,eLLe,AKKL;AHlCR,AF8BA,AKKA,UHnCI+D,GF8BG,AKKA,GHnCG,CAACC,CF8BCrD,AKKA8F,KAAZ,KLLA,CE9BI,CAAoBlD,CAAC,CAACU,OAAtB,MAAmC,GAAvC,EAA4C;AAC1C,AF8BH,AKKA,aHnCQb,QAAL,CAAcL,SAAd,CAAwBR,KAAxB,GAAgC,IAAhC;AACD,SIFH,ANkDA,aAAanC,EMlDA,CNkDb,EAAkB;AMjDhB,AJED,AFgDC,WAAKO,EMlDE,KAAKG,GNkDZ,GAAkBV,EMlDlB,CNkDA;AMjDD,ANkDA;;WEhDD,kBAASmD,CAAT,EAAY;AACV,SIFF,AN6BA,CE3BMQ,MAAM,CAACC,OIFD,AN6BA,KE3BN,CAAoBT,CAAC,CAACU,OAAtB,MAAmC,GAAvC,EAA4C;AID5C,AJEE,AF2BF,aM7BO,AJEAb,AF2BA,KM7BKgE,AN6BAvG,GE3BV,CAAckC,GIFhB,AN6BA,ME3BE,CAAwBX,OAAxB,GAAkC,KAAlC;AIDH,AJEE,AF2BF;SAmBD,aAAUhC,GAAV,EAAe;AE7Cb,AF8CA,UE9CI2D,CF8CClD,KE9CK,CAACmD,CF8CX,GAAezD,KAAf,GE9CI,CAAoBgD,CAAC,CAACU,OAAtB,MAAmC,GAAvC,EAA4C;AAC1C,AF8CH,aE9CQb,QAAL,CAAcL,SAAd,CAAwBV,QAAxB,GAAmC,KAAnC;AACD;;AACD,SFwBF,CExBM0B,MAAM,CAACC,OFwBA,KExBP,CAAoBT,CAAC,CAACU,OAAtB,MAAmC,GAAvC,EAA4C;AAC1C,AFwBF,aExBOb,AFwBA,KAAKtC,GExBV,CAAciC,IFwBhB,KExBE,CAAwBT,IAAxB,GAA+B,KAA/B;AACD,AFwBF;SAmBD,aAAWlC,GAAX,EAAgB;AE1Cd,AF2CA,UE3CI2D,CF2CCjD,KE3CK,CAACkD,EF2CX,GAAgBxD,MAAhB,CE3CI,CAAoB+C,CAAC,CAACU,OAAtB,MAAmC,GAAvC,EAA4C;AAC1C,AF2CH,aE3CQb,QAAL,CAAcL,SAAd,CAAwBR,KAAxB,GAAgC,KAAhC;AACD;AACF;SFqBD,eAAY;AACV,aAAO,KAAKxB,OAAZ;AACD;SAOD,aAAUX,GAAV,EAAe;AACb,WAAKW,OAAL,GAAeX,GAAf;AACD;;;SARD,eAAgB;AACd,aAAO,KAAK+B,WAAZ;AACD;SACD,aAAc/B,GAAd,EAAmB;AACjB,WAAK+B,WAAL,GAAmB/B,GAAnB;AACD","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export default class Emitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n  on(name, listener) {\r\n    if (!this.events[name]) this.events[name] = [];\r\n    this.events[name].push(listener);\r\n    return listener;\r\n  }\r\n  emit(name, params) {\r\n    this.events[name] &&\r\n      this.events[name].forEach(listener => {\r\n        listener(params);\r\n      });\r\n  }\r\n  remove(name, listenerToRemove) {\r\n    if (!this.events[name]) throw new Error(`${name} event doesn't exist`);\r\n    if (!this.events[name][this.events[name].indexOf(listenerToRemove)])\r\n      throw new Error(`${name} listener doesn't exist`);\r\n    this.events[name] = this.events[name].filter(\r\n      listener => listener !== listenerToRemove\r\n    );\r\n  }\r\n}\r\n","import Emitter from \"./utils/Emitter\";\r\n\r\nvar stopped = true;\r\nconst emitter = new Emitter();\r\nexport default class GameLoop {\r\n  static start() {\r\n    stopped = false;\r\n    var lastUpdate = Date.now();\r\n    function update() {\r\n      const now = Date.now();\r\n      const dt = (now - lastUpdate) / 1000;\r\n      lastUpdate = now;\r\n      emitter.emit(\"update\", dt);\r\n      !stopped && setTimeout(() => update(dt), 30);\r\n    }\r\n    function draw() {\r\n      emitter.emit(\"draw\");\r\n      !stopped && requestAnimationFrame(draw);\r\n    }\r\n    update(Date.now());\r\n    requestAnimationFrame(draw);\r\n  }\r\n  static pause() {\r\n    stopped = true;\r\n  }\r\n  static on(name, listener) {\r\n    return emitter.on(name, listener);\r\n  }\r\n\r\n  static remove(name, listenerToRemove) {\r\n    emitter.remove(name, listenerToRemove);\r\n  }\r\n}\r\n","export default class Handler {\r\n  constructor(game) {\r\n    this.__game = game;\r\n  }\r\n\r\n  getGame() {\r\n    return this.__game;\r\n  }\r\n}\r\n","export function toRadians(degs) {\r\n  return degs * (Math.PI / 180);\r\n}\r\n\r\nexport function toDegrees(rads) {\r\n  return rads * (180 / Math.PI);\r\n}\r\n\r\nexport class Vector {\r\n  constructor(x = 0, y = 0, z = 0) {\r\n    this.__x = x;\r\n    this.__y = y;\r\n    this.__z = z;\r\n  }\r\n  get x() {\r\n    return this.__x;\r\n  }\r\n  get y() {\r\n    return this.__y;\r\n  }\r\n  get z() {\r\n    return this.__z;\r\n  }\r\n\r\n  set x(val) {\r\n    this.__x = val;\r\n  }\r\n  set y(val) {\r\n    this.__y = val;\r\n  }\r\n  set z(val) {\r\n    this.__z = val;\r\n  }\r\n\r\n  add(vector) {\r\n    return new Vector(\r\n      this.__x + vector.x,\r\n      this.__y + vector.y,\r\n      this.__z + vector.z\r\n    );\r\n  }\r\n  subtract(vector) {\r\n    return new Vector(\r\n      this.__x - vector.x,\r\n      this.__y - vector.y,\r\n      this.__z - vector.z\r\n    );\r\n  }\r\n  multiply(vector) {\r\n    return new Vector(\r\n      this.__x * vector.x,\r\n      this.__y * vector.y,\r\n      this.__z * vector.z\r\n    );\r\n  }\r\n  devide(vector) {\r\n    return new Vector(\r\n      this.__x / vector.x,\r\n      this.__y / vector.y,\r\n      this.__z / vector.z\r\n    );\r\n  }\r\n}\r\n","import { toDegrees, toRadians, Vector } from \"../utils/Math\";\r\nexport default class Camera {\r\n  constructor(x, y, z, width, height, fov, angle) {\r\n    this.__position = new Vector(x, y, z);\r\n    this.__fov = fov;\r\n    this.__width = width;\r\n    this.__height = height;\r\n    this.__angle = toRadians(angle);\r\n  }\r\n\r\n  followEntity(entity) {\r\n    this.__position = entity.position;\r\n    this.__angle = entity.angle;\r\n  }\r\n  updateFov(angle) {\r\n    this.__fov = angle;\r\n  }\r\n  get position() {\r\n    return this.__position;\r\n  }\r\n  get angle() {\r\n    return this.__angle;\r\n  }\r\n\r\n  get fov() {\r\n    return toDegrees(this.__fov);\r\n  }\r\n\r\n  set position(val) {\r\n    this.__position = val;\r\n  }\r\n  set angle(deg) {\r\n    this.__angle = toRadians(deg);\r\n  }\r\n\r\n  set fov(degs) {\r\n    this.__fov = toRadians(degs);\r\n  }\r\n}\r\n","export default class Canvas {\r\n  constructor(width, height, parent) {\r\n    this.__width = width;\r\n    this.__height = height;\r\n    this.__parent = parent;\r\n    this.__canvas = document.createElement(\"canvas\");\r\n\r\n    this.__canvas.width = width;\r\n    this.__canvas.height = height;\r\n    this.__canvas.style.width = \"100%\";\r\n    this.__canvas.style.height = \"100%\";\r\n    this.__ctx = this.__canvas.getContext(\"2d\");\r\n    this.__parent.appendChild(this.__canvas);\r\n  }\r\n  //Getters\r\n  getWidth() {\r\n    return this.__width;\r\n  }\r\n  getHeight() {\r\n    return this.__height;\r\n  }\r\n  getCanvas() {\r\n    return this.__canvas;\r\n  }\r\n  getContext() {\r\n    return this.__ctx;\r\n  }\r\n}\r\n","import { toRadians, Vector } from \"../utils/Math\";\r\nexport default class Entity {\r\n  constructor(\r\n    handler,\r\n    x,\r\n    y,\r\n    z = 0,\r\n    width,\r\n    height,\r\n    speed = 0,\r\n    angle = 0,\r\n    color = \"grey\"\r\n  ) {\r\n    this.__handler = handler;\r\n    this.__position = new Vector(x, y, z);\r\n    this.__width = width;\r\n    this.__height = height;\r\n    this.__angle = angle;\r\n    this.__speed = speed;\r\n    this.__direction = {\r\n      forward: false,\r\n      backward: false,\r\n      left: false,\r\n      right: false,\r\n    };\r\n  }\r\n  moveX(x) {\r\n    this.__position.x += x;\r\n  }\r\n  moveY(y) {\r\n    this.__position.y += y;\r\n  }\r\n  move(x, y, map) {\r\n    if (!map.hasWallAt(this.__position.x + x, this.__position.y + y)) {\r\n      this.moveX(x);\r\n      this.moveY(y);\r\n    }\r\n  }\r\n  update(dt, map) {\r\n    if (this.__direction.forward) {\r\n      this.move(\r\n        Math.cos(this.__angle) * this.__speed * dt,\r\n        Math.sin(this.__angle) * this.__speed * dt,\r\n        map\r\n      );\r\n    }\r\n    if (this.direction.backward) {\r\n      this.move(\r\n        Math.cos(this.__angle) * -this.__speed * dt,\r\n        Math.sin(this.__angle) * -this.__speed * dt,\r\n        map\r\n      );\r\n    }\r\n    if (this.direction.left) {\r\n      this.move(\r\n        Math.cos(this.__angle + toRadians(90)) * -this.__speed * dt,\r\n        Math.sin(this.__angle + toRadians(90)) * -this.__speed * dt,\r\n        map\r\n      );\r\n    }\r\n    if (this.direction.right) {\r\n      this.move(\r\n        Math.cos(this.__angle + toRadians(90)) * this.__speed * dt,\r\n        Math.sin(this.__angle + toRadians(90)) * this.__speed * dt,\r\n        map\r\n      );\r\n    }\r\n  }\r\n  get position() {\r\n    return this.__position;\r\n  }\r\n  get width() {\r\n    return this.__width;\r\n  }\r\n  get height() {\r\n    return this.__height;\r\n  }\r\n  get angle() {\r\n    return this.__angle;\r\n  }\r\n  get direction() {\r\n    return this.__direction;\r\n  }\r\n  set direction(val) {\r\n    this.__direction = val;\r\n  }\r\n  set angle(val) {\r\n    this.__angle = val;\r\n  }\r\n  set position(val) {\r\n    this.__position = val;\r\n  }\r\n  set width(val) {\r\n    this.__width = width;\r\n  }\r\n  set height(val) {\r\n    this.__height = height;\r\n  }\r\n}\r\n","import Entity from \"./index\";\r\nexport class Player extends Entity {\r\n  constructor(handler, x, y, z = 0, width, height) {\r\n    super(handler, x, y, z, width, height, 45, 0, \"blue\");\r\n  }\r\n}\r\n","import Entity from \"../entities\";\r\n\r\nexport default class FPS {\r\n  constructor(canvas) {\r\n    this.__lastmouse = { x: 0, y: 0 };\r\n    this.__entity = new Entity(0, 0, 0, 0, 0);\r\n    this.__canvas = canvas;\r\n    this.__keys = [];\r\n\r\n    this.__canvas.addEventListener(\"mousemove\", e => this.rotateCamera(e));\r\n    document.addEventListener(\"keydown\", e => this.startMove(e));\r\n    document.addEventListener(\"keyup\", e => this.stopMove(e));\r\n    this.__canvas.requestPointerLock =\r\n      this.__canvas.requestPointerLock || this.__canvas.mozRequestPointerLock;\r\n    this.__canvas.addEventListener(\"click\", e => this.__click(e));\r\n  }\r\n  __click(e) {\r\n    this.__canvas.requestPointerLock();\r\n  }\r\n\r\n  attachEntity(entity) {\r\n    this.__entity = entity;\r\n  }\r\n\r\n  rotateCamera({ movementX }) {\r\n    this.__lastmouse.x += movementX;\r\n    this.__entity.angle += movementX / 1000;\r\n  }\r\n\r\n  startMove(e) {\r\n    if (String.fromCharCode(e.keyCode) === \"W\") {\r\n      this.__entity.direction.forward = true;\r\n    }\r\n    if (String.fromCharCode(e.keyCode) === \"S\") {\r\n      this.__entity.direction.backward = true;\r\n    }\r\n    if (String.fromCharCode(e.keyCode) === \"A\") {\r\n      this.__entity.direction.left = true;\r\n    }\r\n    if (String.fromCharCode(e.keyCode) === \"D\") {\r\n      this.__entity.direction.right = true;\r\n    }\r\n  }\r\n  stopMove(e) {\r\n    if (String.fromCharCode(e.keyCode) === \"W\") {\r\n      this.__entity.direction.forward = false;\r\n    }\r\n    if (String.fromCharCode(e.keyCode) === \"S\") {\r\n      this.__entity.direction.backward = false;\r\n    }\r\n    if (String.fromCharCode(e.keyCode) === \"A\") {\r\n      this.__entity.direction.left = false;\r\n    }\r\n    if (String.fromCharCode(e.keyCode) === \"D\") {\r\n      this.__entity.direction.right = false;\r\n    }\r\n  }\r\n}\r\n","import { toRadians } from \"../../utils/Math\";\r\nexport default class TwoD {\r\n  constructor(width, height, camera, ctx, configs = {}) {\r\n    this.__width = width;\r\n    this.__height = height;\r\n    this.__camera = camera;\r\n    this.__camerasize = 10;\r\n    this.__ctx = ctx;\r\n    this.__configs = configs;\r\n    this.entities = [];\r\n  }\r\n  changeConfig(configs) {\r\n    this.__configs = { ...this.__configs, ...configs };\r\n  }\r\n  render() {\r\n    const ctx = this.__ctx;\r\n    ctx.strokeStyle = this.__configs.strokeStyle || \"\";\r\n    this.entities.forEach(entity => {\r\n      ctx.fillStyle = entity.color;\r\n      ctx.fillRect(\r\n        entity.position.x,\r\n        entity.position.y,\r\n        entity.width,\r\n        entity.height\r\n      );\r\n      ctx.strokeRect(\r\n        entity.position.x,\r\n        entity.position.y,\r\n        entity.width,\r\n        entity.height\r\n      );\r\n    });\r\n    ctx.fillStyle = \"blue\";\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n      this.__camera.position.x,\r\n      this.__camera.position.y,\r\n      this.__camerasize / 2,\r\n      0,\r\n      toRadians(360)\r\n    );\r\n    ctx.fill();\r\n\r\n    ctx.strokeStyle = \"white\";\r\n\r\n    ctx.moveTo(this.__camera.position.x, this.__camera.position.y);\r\n    ctx.lineTo(\r\n      this.__camera.position.x +\r\n        Math.cos(this.__camera.angle) * this.__camerasize,\r\n\r\n      this.__camera.position.y +\r\n        Math.sin(this.__camera.angle) * this.__camerasize\r\n    );\r\n    ctx.stroke();\r\n  }\r\n\r\n  addEntity(entity) {\r\n    entity.color = entity.color || \"grey\";\r\n    this.entities.push(entity);\r\n  }\r\n}\r\n","const TILE_SIZE = 16;\r\nexport default class Map {\r\n  constructor() {\r\n    this.__grid = `\r\n1111111111111111\r\n1000000000010001\r\n1000011110000001\r\n1000000010011001\r\n1000000000000001\r\n1000000000000001\r\n1111111111111111`\r\n      .split(\"\\n\")\r\n      .map(row => row.split(\"\"))\r\n      .filter(row => row.length > 0);\r\n    console.log(this.__grid);\r\n  }\r\n  get width() {\r\n    return this.__grid[0].length;\r\n  }\r\n  get height() {\r\n    return this.__grid.length;\r\n  }\r\n\r\n  get grid() {\r\n    return this.__grid;\r\n  }\r\n\r\n  hasWallAt(x, y) {\r\n    const column = Math.floor(x / Map.TILE_SIZE);\r\n    const row = Math.floor(y / Map.TILE_SIZE);\r\n    console.log({ column, row });\r\n    if (this.__grid[row][column] == 0) return false;\r\n    return true;\r\n  }\r\n  static get TILE_SIZE() {\r\n    return TILE_SIZE;\r\n  }\r\n}\r\n","import Entity from \"../entities\";\r\nimport { Player } from \"../entities/Player\";\r\nimport Camera from \"../renderers/Camera\";\r\nimport Controller from \"../controller/FPS\";\r\nimport TwoD from \"../renderers/2d\";\r\nimport Map from \"../Map\";\r\nexport default class GameState {\r\n  constructor(handler) {\r\n    this.__handler = handler;\r\n    this.__ctx = this.__handler.getGame().canvas.getContext();\r\n    this.__player = new Player(\r\n      this.__handler,\r\n      this.__handler.getGame().width / 2,\r\n      this.__handler.getGame().height / 2 - 50,\r\n      0,\r\n      10,\r\n      10\r\n    );\r\n\r\n    this.__camera = new Camera(\r\n      0,\r\n      0,\r\n      0,\r\n      this.__width,\r\n      this.__height,\r\n      this.__fov,\r\n      0\r\n    );\r\n    this.__controller = new Controller(\r\n      this.__handler.getGame().canvas.getCanvas()\r\n    );\r\n\r\n    this.__renderer = new TwoD(\r\n      this.__width,\r\n      this.__height,\r\n      this.__camera,\r\n      this.__ctx\r\n    );\r\n    this.__renderer.changeConfig({\r\n      stroke: \"2px\",\r\n      strokeColor: \"black\",\r\n    });\r\n    this.setup();\r\n  }\r\n  setup() {\r\n    this.__controller.attachEntity(this.__player);\r\n    this.__map = new Map();\r\n    this.__map.grid.forEach((columns, rowIndex) => {\r\n      columns.map((wall, columnIndex) => {\r\n        if (wall == 1) {\r\n          const entity = new Entity(\r\n            this.__handler,\r\n            columnIndex * Map.TILE_SIZE,\r\n            rowIndex * Map.TILE_SIZE,\r\n            0,\r\n            Map.TILE_SIZE,\r\n            Map.TILE_SIZE,\r\n            \"blue\"\r\n          );\r\n          this.__renderer.addEntity(entity);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  update(dt) {\r\n    this.__player.update(dt, this.__map);\r\n    this.__camera.followEntity(this.__player);\r\n  }\r\n\r\n  draw() {\r\n    this.__renderer.render();\r\n  }\r\n  get map() {\r\n    return this.__map;\r\n  }\r\n}\r\n","import GameLoop from \"./GameLoop\";\r\nimport Handler from \"./Handler\";\r\nimport Camera from \"./renderers/Camera\";\r\nimport Canvas from \"./Canvas\";\r\nimport GameState from \"./state/GameState\";\r\nimport Raycast from \"./renderers/2d\";\r\nimport Controller from \"./controller/FPS\";\r\nexport default class Game {\r\n  constructor(app, width, height) {\r\n    this.__handler = new Handler(this);\r\n    this.__width = width;\r\n    this.__height = height;\r\n    this.__fov = 60;\r\n    this.__canvas = new Canvas(width, height, app);\r\n    this.__ctx = this.__canvas.getContext();\r\n    this.__handler = new Handler(this);\r\n\r\n    this.__state = new GameState(this.__handler);\r\n  }\r\n  run() {\r\n    GameLoop.start();\r\n    GameLoop.on(\"update\", dt => this.update(dt));\r\n    GameLoop.on(\"draw\", () => this.draw());\r\n  }\r\n\r\n  update(dt) {\r\n    this.__state.update(dt);\r\n  }\r\n\r\n  draw() {\r\n    this.__ctx.clearRect(0, 0, this.__width, this.__height);\r\n    this.__state.draw();\r\n  }\r\n  get canvas() {\r\n    return this.__canvas;\r\n  }\r\n  get width() {\r\n    return this.__width;\r\n  }\r\n  get height() {\r\n    return this.__height;\r\n  }\r\n  get state() {\r\n    return this.__state;\r\n  }\r\n}\r\n","import \"./styles.css\";\nimport Game from \"./classes/Game\";\nconst resolution = {\n  width: 320,\n  height: 200,\n};\nconst appElement = document.getElementById(\"app\");\n\nconst game = new Game(appElement, resolution.width, resolution.height);\ngame.run();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}